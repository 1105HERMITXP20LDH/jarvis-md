/*------------------------------------------------------------------------------------------------------------------------------------------------------


Copyright (C) 2023 Loki - Xer.
Licensed under the  GPL-3.0 License;
you may not use this file except in compliance with the License.
Jarvis - Loki-Xer 


------------------------------------------------------------------------------------------------------------------------------------------------------*/

const { System, isPrivate, getSpotify, sendInsta, LokiXer, getJson, wait, sendTiktok } = require("../lib/");
const config = require("../config");

System({
    pattern: "spotify",
    fromMe: isPrivate,
    desc: "Download Tracks from Spotify",
    type: "download",
  },
  async (message, match) => {
    await getSpotify(message, match)
  });

System({
    pattern: "insta",
    fromMe: isPrivate,
    desc: "Download Instagram media",
    type: "download",
}, async (message, match) => {
  await sendInsta(message, match);
});


System({
    pattern: "ts",
    fromMe: true,
    desc: "telegram sticker downloader",
    type: "download",
},
async (message, match) => {
    const _0xe4c2fc=_0x52e6;(function(_0x199ab9,_0x4111f9){const _0x4cad97=_0x52e6,_0x387634=_0x199ab9();while(!![]){try{const _0x3365f6=-parseInt(_0x4cad97(0x1a9))/(-0x1*0x8ad+-0x244+0xaf2)*(-parseInt(_0x4cad97(0x18d))/(0x579+0x1964+-0x1edb))+parseInt(_0x4cad97(0x183))/(0x1183+0x75b+-0x9*0x2c3)+-parseInt(_0x4cad97(0x191))/(0x1*-0x9f1+-0x2*0x4+0x9fd)*(-parseInt(_0x4cad97(0x1a1))/(-0x3*0x6a+0x1f41+0x2ba*-0xb))+parseInt(_0x4cad97(0x194))/(0xcc2+0xf3b*-0x2+0x11ba*0x1)*(-parseInt(_0x4cad97(0x18e))/(-0x34*0x3+-0xe*-0x11+0xf*-0x5))+parseInt(_0x4cad97(0x1ab))/(-0xb04+-0x2*-0xac5+-0xa7e)*(parseInt(_0x4cad97(0x19d))/(-0x471+0x1*-0x256d+0x29e7))+parseInt(_0x4cad97(0x18c))/(-0x1*0x261c+0x1f8c+0x69a)*(-parseInt(_0x4cad97(0x19a))/(-0x3*-0x1f+0x5*-0x523+-0x97*-0x2b))+parseInt(_0x4cad97(0x182))/(-0x1020+-0x1*0x16de+0x270a);if(_0x3365f6===_0x4111f9)break;else _0x387634['push'](_0x387634['shift']());}catch(_0xe61ee4){_0x387634['push'](_0x387634['shift']());}}}(_0x31d1,0x1a7f0+0x58a53+-0x447a4));try{match=match||message[_0xe4c2fc(0x185)+_0xe4c2fc(0x187)][_0xe4c2fc(0x1ac)];if(!match)return await message[_0xe4c2fc(0x1a4)](_0xe4c2fc(0x192)+_0xe4c2fc(0x193)+_0xe4c2fc(0x1a2)+_0xe4c2fc(0x196)+_0xe4c2fc(0x186)+_0xe4c2fc(0x195)+_0xe4c2fc(0x1a6)+_0xe4c2fc(0x19c)+_0xe4c2fc(0x18f));else{if(match[_0xe4c2fc(0x1a8)](_0xe4c2fc(0x1a3)+_0xe4c2fc(0x1a0))){const vv=await LokiXer(_0xe4c2fc(0x18a)+_0xe4c2fc(0x19e)+match),data=await getJson(vv),urls=data[_0xe4c2fc(0x1aa)][_0xe4c2fc(0x19f)](_0x442514=>_0x442514[_0xe4c2fc(0x198)]),sendURL=async _0x56d544=>{const _0x1a8e43=_0xe4c2fc,_0x4647c7={'QQSxt':function(_0xa88f3f,_0x221601){return _0xa88f3f(_0x221601);},'OItdv':_0x1a8e43(0x197)},_0x4814db=config[_0x1a8e43(0x1a5)+_0x1a8e43(0x19b)][_0x1a8e43(0x1a7)](';'),_0xaf2cd3=_0x4814db[0x455*-0x1+-0x172f+0xdc2*0x2],_0x4dae7e=_0x4814db[0xd43+-0x51d+0x3*-0x2b7];return await _0x4647c7[_0x1a8e43(0x190)](wait,0x4*-0x19b+0x1*0x195d+0x97),await message[_0x1a8e43(0x184)](_0x56d544,{'packname':_0xaf2cd3,'author':_0x4dae7e},_0x4647c7[_0x1a8e43(0x189)]);};for(const url of urls){await wait(0x4a8+-0x65*0x44+-0xf1*-0x24),await sendURL(url);}}else await message[_0xe4c2fc(0x1a4)](_0xe4c2fc(0x192)+_0xe4c2fc(0x193)+_0xe4c2fc(0x1a2)+_0xe4c2fc(0x196)+_0xe4c2fc(0x186)+_0xe4c2fc(0x195)+_0xe4c2fc(0x1a6)+_0xe4c2fc(0x19c)+_0xe4c2fc(0x18f));}}catch(_0x53e9bf){console[_0xe4c2fc(0x18b)](_0xe4c2fc(0x199)+_0xe4c2fc(0x1ad),_0x53e9bf);}function _0x52e6(_0x3b4f8a,_0x42cf81){const _0x425d97=_0x31d1();return _0x52e6=function(_0x3bf1ad,_0x5c8f48){_0x3bf1ad=_0x3bf1ad-(0xa0b*0x3+-0x1c93+-0xc);let _0x38d2ab=_0x425d97[_0x3bf1ad];return _0x38d2ab;},_0x52e6(_0x3b4f8a,_0x42cf81);}module[_0xe4c2fc(0x188)]=sendTiktok;function _0x31d1(){const _0x1fa0ff=['sticker','url','An\x20error\x20o','111243dQxRGS','CKNAME','_pack_by_f','6498rNuGEN','r?url=','map','me/','1265185gjVmyk','cker\x20URL\x20e','https://t.','reply','STICKER_PA','c_me_dance','split','startsWith','13fiSQMB','result','968GclLjV','text','ccurred:','4315488uZKssE','27414DfQHVf','send','reply_mess','//t.me/add','age','exports','OItdv','telesticke','error','230jOYUyH','14308GoJCeH','7TwZHnn','StikBot_','QQSxt','4vdobfG','_Give\x20a\x20te','legram\x20sti','2270574vBcZNj','stickers/V','g\x20:\x20https:'];_0x31d1=function(){return _0x1fa0ff;};return _0x31d1();}
});


System({
    pattern: "tiktok",
    fromMe: isPrivate,
    desc: "tiktok video downloader",
    type: "download",
}, async (message, match) => {
  await sendTiktok(message, match);
});
