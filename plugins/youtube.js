const { System, isPublic, getJson, IronMan, getBuffer, toAudio, AddMp3Meta, extractUrlFromMessage, isUrl } = require('../lib/');
const config = require("../config");

System({ pattern: 'video ?(.*)', fromMe: isPublic, desc: 'YouTube video downloader', type: 'download' }, async (message, match) => {
    function _0x58a8(_0x1a3a9f,_0x3808d8){const _0x2fd7cb=_0x3b18();return _0x58a8=function(_0x4e7ba1,_0x2c6e1b){_0x4e7ba1=_0x4e7ba1-(0x4d8*-0x7+0x48b*-0x6+0x3ec9*0x1);let _0x34c650=_0x2fd7cb[_0x4e7ba1];return _0x34c650;},_0x58a8(_0x1a3a9f,_0x3808d8);}const _0x2db8d4=_0x58a8;(function(_0x208f4a,_0x48bcaf){const _0x42b48e=_0x58a8,_0x5132bc=_0x208f4a();while(!![]){try{const _0xeefba6=parseInt(_0x42b48e(0x1a0))/(0x13d*0x1+0x1332+-0x146e)*(-parseInt(_0x42b48e(0x1ae))/(0x33b*0x7+-0x5*-0x78e+-0x3c61))+parseInt(_0x42b48e(0x1ad))/(-0x1*-0x182f+0xe9*0x11+-0x27a5)+parseInt(_0x42b48e(0x1a5))/(0x7*-0xd6+-0xea0+0x56*0x3d)*(parseInt(_0x42b48e(0x1b0))/(-0x16ff+0x1c1e+-0x51a))+-parseInt(_0x42b48e(0x1aa))/(0x1*0xbe7+0x55*-0x4+-0xa8d)+parseInt(_0x42b48e(0x1b6))/(-0x52+0x4*0x293+-0x9*0x11b)*(-parseInt(_0x42b48e(0x1a3))/(-0x1766+-0x335*0x5+0x2777*0x1))+-parseInt(_0x42b48e(0x1ba))/(0x240f+0x2*-0x11c9+-0x74)*(parseInt(_0x42b48e(0x1bb))/(-0x1bf9+-0xc+0x1c0f*0x1))+-parseInt(_0x42b48e(0x1b5))/(0x2*-0x30a+-0xbbb+-0x1*-0x11da)*(-parseInt(_0x42b48e(0x1b2))/(-0x11b6+0x67*-0x41+0x2be9));if(_0xeefba6===_0x48bcaf)break;else _0x5132bc['push'](_0x5132bc['shift']());}catch(_0x341ea0){_0x5132bc['push'](_0x5132bc['shift']());}}}(_0x3b18,-0x165790+-0x167547*0x1+0x3b3983));try{match=match||message[_0x2db8d4(0x19f)+_0x2db8d4(0x1a4)][_0x2db8d4(0x1b3)];if(!match)return await message[_0x2db8d4(0x1b9)](_0x2db8d4(0x1af)+_0x2db8d4(0x1a1)+_0x2db8d4(0x1a8)+_0x2db8d4(0x1be));else{const matchUrl=extractUrlFromMessage(match);if(isUrl(matchUrl)){const api=IronMan(_0x2db8d4(0x1b7)+_0x2db8d4(0x1bd)+matchUrl),{title}=await getJson(api),videoResponse=await IronMan(_0x2db8d4(0x1a9)+_0x2db8d4(0x1b8)+matchUrl),{url:videoUrl}=await getJson(videoResponse);await message[_0x2db8d4(0x1b1)][_0x2db8d4(0x1bc)+'e'](message[_0x2db8d4(0x1b4)],{'video':{'url':videoUrl},'caption':''+title});}else{const playResponse=IronMan(_0x2db8d4(0x1ac)+'='+match+_0x2db8d4(0x1a6)),{url,title}=await getJson(playResponse);await message[_0x2db8d4(0x1b1)][_0x2db8d4(0x1bc)+'e'](message[_0x2db8d4(0x1b4)],{'video':{'url':url},'caption':'*'+title+'*'});}}}catch(_0x5f555b){console[_0x2db8d4(0x1a7)](_0x2db8d4(0x1ab)+_0x2db8d4(0x1a2),_0x5f555b);}function _0x3b18(){const _0xecc474=['8525106sAOAzF','An\x20error\x20o','play?query','755823MaOqkx','2GhRULb','_Give\x20a\x20Yo','5SXjaYE','client','12444228sdCSDE','text','chat','22RTxoNi','7wGVJhD','downloader','deo?url=','reply','26307VgSLcC','130nTuehn','sendMessag','/ytv?url=','\x20*Query*_','reply_mess','1146281bcokUs','uTube\x20vide','ccurred:','4545416uxSFDL','age','7170612Hkgchu','&type=mp4','error','o\x20*Url*\x20or','ironman/vi'];_0x3b18=function(){return _0xecc474;};return _0x3b18();}
});


System({ pattern: 'yta ?(.*)', fromMe: isPublic, desc: 'YouTube audio downloader', type: 'download' }, async (message, match) => {
    const _0x12f0a6=_0x215a;(function(_0x10c8c6,_0x4f82ae){const _0x5b164f=_0x215a,_0x5c29b2=_0x10c8c6();while(!![]){try{const _0x2aa9d1=-parseInt(_0x5b164f(0xb4))/(0xb92*-0x2+-0xe6+-0x4cf*-0x5)*(-parseInt(_0x5b164f(0xb6))/(0x54d+0x9a9+0x13f*-0xc))+parseInt(_0x5b164f(0xa6))/(0xe57*-0x1+-0x648+0x14a2)*(-parseInt(_0x5b164f(0x9c))/(-0x20b9*-0x1+0x1823+-0x1c6c*0x2))+parseInt(_0x5b164f(0xb1))/(-0x1d29+0x12d8+0xa56)+parseInt(_0x5b164f(0x9a))/(0x63d*-0x3+-0x466*-0x3+0x58b)+-parseInt(_0x5b164f(0xb5))/(0xc9b*-0x3+-0x1*-0x335+0x22a3)*(-parseInt(_0x5b164f(0xb7))/(0x260+0xd58+-0x10*0xfb))+-parseInt(_0x5b164f(0xa2))/(0x20*-0xda+0x1378+0x29b*0x3)+parseInt(_0x5b164f(0xb2))/(-0x1*0x1b53+0x1511+0x64c);if(_0x2aa9d1===_0x4f82ae)break;else _0x5c29b2['push'](_0x5c29b2['shift']());}catch(_0x8e9111){_0x5c29b2['push'](_0x5c29b2['shift']());}}}(_0x100e,0x214f+-0x16*-0xce8+-0x4e103*-0x1));function _0x215a(_0x462e7a,_0x4623d4){const _0x1d9239=_0x100e();return _0x215a=function(_0x49e74e,_0x3ef4d2){_0x49e74e=_0x49e74e-(0xed+0x21b6+-0x220a*0x1);let _0x4cad0f=_0x1d9239[_0x49e74e];return _0x4cad0f;},_0x215a(_0x462e7a,_0x4623d4);}try{match=match||message[_0x12f0a6(0x9b)+_0x12f0a6(0xaa)][_0x12f0a6(0xb0)];if(!match)return await message[_0x12f0a6(0xb3)](_0x12f0a6(0xac)+_0x12f0a6(0xb8)+_0x12f0a6(0xaf)+_0x12f0a6(0xa8));else{const xmatchurl=extractUrlFromMessage(match);if(isUrl(match)){const audioUrl=await IronMan(_0x12f0a6(0xa9)+_0x12f0a6(0xa0)+xmatchurl),audioBuffer=await getBuffer(audioUrl),media=await toAudio(audioBuffer,_0x12f0a6(0xa3)),data=config[_0x12f0a6(0xa7)][_0x12f0a6(0xa5)](';'),name=data[-0xc30+-0x1*-0x121+-0x95*-0x13],author=data[0x137e*0x2+0x1fb0+-0x46ab],image=data[0x1*-0xf0e+0x499+0xa77],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x12f0a6(0xa1)][_0x12f0a6(0xae)+'e'](message[_0x12f0a6(0x9d)],{'audio':aud,'mimetype':_0x12f0a6(0xad)});}else{const xapi=IronMan(_0x12f0a6(0xab)+'='+match+_0x12f0a6(0x99)),{url}=await getJson(xapi),buff=await getBuffer(url),media=await toAudio(buff,_0x12f0a6(0xa3)),data=config[_0x12f0a6(0xa7)][_0x12f0a6(0xa5)](';'),name=data[0x602+-0x126d*0x1+-0xbb*-0x11],author=data[-0x578+0x2ef*0x7+-0x8*0x1e2],image=data[-0x233*0xb+0x2635+-0xe02],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x12f0a6(0xa1)][_0x12f0a6(0xae)+'e'](message[_0x12f0a6(0x9d)],{'audio':aud,'mimetype':_0x12f0a6(0xad)});}}}catch(_0x591b85){console[_0x12f0a6(0xa4)](_0x12f0a6(0x9e)+_0x12f0a6(0x9f),_0x591b85);}function _0x100e(){const _0x5e005e=['client','875385DrPkDE','mp4','error','split','126VAVVFH','AUDIO_DATA','\x20*Query*_','ironman/vi','age','play?query','_Give\x20a\x20Yo','audio/mpeg','sendMessag','o\x20*Url*\x20or','text','266850NioWhg','980720bWMwAN','reply','31822VyrblL','329jQWowJ','12UwEWfy','71512xYbGcJ','uTube\x20vide','&type=mp4','352956lJhUVt','reply_mess','30772jvrZOL','jid','An\x20error\x20o','ccurred:','deo?url='];_0x100e=function(){return _0x5e005e;};return _0x100e();}
});

System({ pattern: 'ytv ?(.*)', fromMe: isPublic, desc: 'YouTube video downloader', type: 'download' }, async (message, match) => {
    const _0x3931e7=_0x52db;function _0x52db(_0x4e76be,_0x16c13f){const _0x3210af=_0x5672();return _0x52db=function(_0x470c9b,_0x254e96){_0x470c9b=_0x470c9b-(0x1115*0x1+-0x1*0x227f+-0x1325*-0x1);let _0x44e2b1=_0x3210af[_0x470c9b];return _0x44e2b1;},_0x52db(_0x4e76be,_0x16c13f);}function _0x5672(){const _0x333290=['&type=mp4','63ahwoXx','329902jzgguR','57502960DvDTpL','ironman/vi','uTube\x20vide','/ytv?url=','error','downloader','reply_mess','\x20*Query*_','o\x20*Url*\x20or','An\x20error\x20o','deo?url=','ccurred:','reply','text','421494DkMUey','12003579Ujrwed','7873696QLtIhb','1942jWBKid','257032HzKxkx','client','chat','age','65RIsRcs','play?query','sendMessag','2505eMalNE','_Give\x20a\x20Yo'];_0x5672=function(){return _0x333290;};return _0x5672();}(function(_0x303e65,_0x526e7a){const _0x1f8988=_0x52db,_0x20c749=_0x303e65();while(!![]){try{const _0xd76c70=-parseInt(_0x1f8988(0x1be))/(-0x4*0x2+0x51*-0x71+0x11e5*0x2)+parseInt(_0x1f8988(0x1d0))/(-0x1d42+-0x134*-0xa+0x113c)*(-parseInt(_0x1f8988(0x1d8))/(-0x1d9d*-0x1+0x2301+0x409b*-0x1))+-parseInt(_0x1f8988(0x1d1))/(-0x3e*-0x9d+0x24fb+0x18ff*-0x3)*(parseInt(_0x1f8988(0x1d5))/(-0x7*-0x199+0x82d*0x2+0x1b84*-0x1))+-parseInt(_0x1f8988(0x1cd))/(0x1c1e+0x2220+-0xf8e*0x4)*(parseInt(_0x1f8988(0x1bd))/(-0x1*0x1941+0x22ed*-0x1+-0x3c35*-0x1))+-parseInt(_0x1f8988(0x1cf))/(0xd2f+-0x201*-0x1+-0xf28)+-parseInt(_0x1f8988(0x1ce))/(0x198*-0x6+-0x2d3+0xc6c)+parseInt(_0x1f8988(0x1bf))/(0x702+0xe36+-0x152e);if(_0xd76c70===_0x526e7a)break;else _0x20c749['push'](_0x20c749['shift']());}catch(_0x26a3ee){_0x20c749['push'](_0x20c749['shift']());}}}(_0x5672,-0x148767+0x14efe8+-0xc2a86*-0x1));try{match=match||message[_0x3931e7(0x1c5)+_0x3931e7(0x1d4)][_0x3931e7(0x1cc)];if(!match)return await message[_0x3931e7(0x1cb)](_0x3931e7(0x1bb)+_0x3931e7(0x1c1)+_0x3931e7(0x1c7)+_0x3931e7(0x1c6));else{const matchUrl=extractUrlFromMessage(match);if(isUrl(matchUrl)){const api=IronMan(_0x3931e7(0x1c4)+_0x3931e7(0x1c2)+matchUrl),{title}=await getJson(api),videoResponse=await IronMan(_0x3931e7(0x1c0)+_0x3931e7(0x1c9)+matchUrl),{url:videoUrl}=await getJson(videoResponse);await message[_0x3931e7(0x1d2)][_0x3931e7(0x1d7)+'e'](message[_0x3931e7(0x1d3)],{'video':{'url':videoUrl},'caption':''+title});}else{const playResponse=IronMan(_0x3931e7(0x1d6)+'='+match+_0x3931e7(0x1bc)),{url,title}=await getJson(playResponse);await message[_0x3931e7(0x1d2)][_0x3931e7(0x1d7)+'e'](message[_0x3931e7(0x1d3)],{'video':{'url':url},'caption':'*'+title+'*'});}}}catch(_0x5b870f){console[_0x3931e7(0x1c3)](_0x3931e7(0x1c8)+_0x3931e7(0x1ca),_0x5b870f);}
});


System({ pattern: 'song ?(.*)', fromMe: isPublic, desc: 'YouTube audio downloader', type: 'download' }, async (message, match) => {
   const _0x57dd66=_0x6d25;function _0x1bf7(){const _0x2da017=['6rQFtew','error','text','2081130RwDEzG','AUDIO_DATA','ery\x20eg\x20:\x20l','&type=mp4','audio/mpeg','_Give\x20a\x20Qu','10ZgrRoS','1678340zPzMVW','398xWNPKK','reply_mess','12003993hwovhP','ife\x20waster','An\x20error\x20o','5079ZnkJnC','mp4','reply','client','ccurred:','12562168zoNvMC','14913558YErGLq','split','ironman/vi','deo?url=','age','play?query','sendMessag','7nMZTZf','1375210MzUkRU','jid'];_0x1bf7=function(){return _0x2da017;};return _0x1bf7();}function _0x6d25(_0x51352f,_0x4329af){const _0x3f7a84=_0x1bf7();return _0x6d25=function(_0x5b73b1,_0x34b30a){_0x5b73b1=_0x5b73b1-(0xc7c+-0x116d+0x65e);let _0x3231c4=_0x3f7a84[_0x5b73b1];return _0x3231c4;},_0x6d25(_0x51352f,_0x4329af);}(function(_0x1c1ba9,_0xbb901f){const _0x3cfde5=_0x6d25,_0x549f7e=_0x1c1ba9();while(!![]){try{const _0x4d3794=parseInt(_0x3cfde5(0x16d))/(0x525*-0x2+-0x231a+-0x1*-0x2d65)+parseInt(_0x3cfde5(0x17a))/(0x1b22*-0x1+-0x59*0x25+-0x5b7*-0x7)*(parseInt(_0x3cfde5(0x17f))/(0x3b*0x42+0x1821+-0x2754*0x1))+parseInt(_0x3cfde5(0x179))/(-0x1*0x653+0x223*0x5+0x1*-0x458)+parseInt(_0x3cfde5(0x172))/(-0x7*0x2df+-0xd*-0x26c+-0xb5e)*(parseInt(_0x3cfde5(0x16f))/(-0x229f+0x1*0xa4+-0x2201*-0x1))+parseInt(_0x3cfde5(0x18c))/(0x224b*-0x1+-0x31*0x31+0x2bb3)*(-parseInt(_0x3cfde5(0x184))/(0xc78+-0x244+-0xa2c))+parseInt(_0x3cfde5(0x17c))/(-0x1*-0xfb7+0xe0f*-0x1+-0x19f)*(parseInt(_0x3cfde5(0x178))/(-0x173a+-0x2091+0x37d5))+-parseInt(_0x3cfde5(0x185))/(-0x12d1*-0x2+-0x8ef*0x1+-0x1ca8);if(_0x4d3794===_0xbb901f)break;else _0x549f7e['push'](_0x549f7e['shift']());}catch(_0x41ce9c){_0x549f7e['push'](_0x549f7e['shift']());}}}(_0x1bf7,0x1*-0x1cf87b+-0x1*0x1298a7+-0x3e262a*-0x1));try{match=match||message[_0x57dd66(0x17b)+_0x57dd66(0x189)][_0x57dd66(0x171)];if(!match)return await message[_0x57dd66(0x181)](_0x57dd66(0x177)+_0x57dd66(0x174)+_0x57dd66(0x17d)+'_');else{const xmatchurl=extractUrlFromMessage(match);if(isUrl(match)){const audioUrl=await IronMan(_0x57dd66(0x187)+_0x57dd66(0x188)+xmatchurl),audioBuffer=await getBuffer(audioUrl),media=await toAudio(audioBuffer,_0x57dd66(0x180)),data=config[_0x57dd66(0x173)][_0x57dd66(0x186)](';'),name=data[-0xc4f+0x1acb+-0xe7c],author=data[-0x262f+0x2*-0x8ad+-0x378a*-0x1],image=data[0x2087+0x11*0x24b+-0x4780],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x57dd66(0x182)][_0x57dd66(0x18b)+'e'](message[_0x57dd66(0x16e)],{'audio':aud,'mimetype':_0x57dd66(0x176)});}else{const xapi=IronMan(_0x57dd66(0x18a)+'='+match+_0x57dd66(0x175)),{url}=await getJson(xapi),buff=await getBuffer(url),media=await toAudio(buff,_0x57dd66(0x180)),data=config[_0x57dd66(0x173)][_0x57dd66(0x186)](';'),name=data[0x1*-0xfc5+0x1*0x23bb+0x2*-0x9fb],author=data[-0x1e67+-0x1*-0xb89+0x12df],image=data[0x2*0x51b+-0x11f0+0x7bc],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x57dd66(0x182)][_0x57dd66(0x18b)+'e'](message[_0x57dd66(0x16e)],{'audio':aud,'mimetype':_0x57dd66(0x176)});}}}catch(_0x126919){console[_0x57dd66(0x170)](_0x57dd66(0x17e)+_0x57dd66(0x183),_0x126919);}
});
