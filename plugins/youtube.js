const { System, isPublic, getJson, IronMan, getBuffer, toAudio, AddMp3Meta } = require('../lib/');
const config = require("../config");

System({ pattern: 'video ?(.*)', fromMe: isPublic, desc: 'YouTube video downloader', type: 'downloader' }, async (message, match) => {
function _0x36d6(){const _0x7392c3=['o\x20Url_','text','3pKxHPt','chat','5572DoytGr','2028XeYPUJ','7571729FryyGj','downloader','275626UVvTdP','/ytv?url=','error','sendMessag','ironman/vi','reply','_Give\x20a\x20Yo','client','ccurred:','An\x20error\x20o','480VGyKbm','761030mKNLLq','4fcDKbM','64006ydcenX','age','uTube\x20vide','deo?url=','13797hshpnV','reply_mess','2054816IuSVYm'];_0x36d6=function(){return _0x7392c3;};return _0x36d6();}const _0x4b9b93=_0x5a46;function _0x5a46(_0x45ab91,_0x34aadc){const _0x17ae0f=_0x36d6();return _0x5a46=function(_0x5231df,_0x5357f6){_0x5231df=_0x5231df-(0x1dad*0x1+-0x92d*0x1+-0x129b);let _0x229a86=_0x17ae0f[_0x5231df];return _0x229a86;},_0x5a46(_0x45ab91,_0x34aadc);}(function(_0x56680f,_0x4bb0f8){const _0x5d4a9a=_0x5a46,_0x4efda4=_0x56680f();while(!![]){try{const _0x369523=-parseInt(_0x5d4a9a(0x1e6))/(0x230a+0x2294+-0x459d)+-parseInt(_0x5d4a9a(0x1f3))/(0x269a+-0x1488+-0x4*0x484)*(parseInt(_0x5d4a9a(0x1fc))/(-0x1*-0x206c+0x1784+-0x37ed))+parseInt(_0x5d4a9a(0x1f2))/(-0x2551+-0x52b+0x2a80)*(-parseInt(_0x5d4a9a(0x1f1))/(0x1*0x1070+-0x144e+0x3e3))+-parseInt(_0x5d4a9a(0x1ff))/(-0x6de+0x1862+0x2*-0x8bf)*(parseInt(_0x5d4a9a(0x1fe))/(0x1fe3+0x5ef+0x78f*-0x5))+parseInt(_0x5d4a9a(0x1f9))/(0x2fe+-0xdda+-0x2*-0x572)+-parseInt(_0x5d4a9a(0x1f7))/(0x1*0xb99+-0xc80+0x5*0x30)*(parseInt(_0x5d4a9a(0x1f0))/(-0xbda+0x1725+0x2b*-0x43))+parseInt(_0x5d4a9a(0x200))/(0x247f+-0x317*0x1+-0x215d);if(_0x369523===_0x4bb0f8)break;else _0x4efda4['push'](_0x4efda4['shift']());}catch(_0x143054){_0x4efda4['push'](_0x4efda4['shift']());}}}(_0x36d6,-0x8311*0x2+0x17275+0x1c131));try{match=match||message[_0x4b9b93(0x1f8)+_0x4b9b93(0x1f4)][_0x4b9b93(0x1fb)];if(!match)return await message[_0x4b9b93(0x1eb)](_0x4b9b93(0x1ec)+_0x4b9b93(0x1f5)+_0x4b9b93(0x1fa));else{const api=IronMan(_0x4b9b93(0x1e5)+_0x4b9b93(0x1e7)+match),{title}=await getJson(''+api),Video=await IronMan(_0x4b9b93(0x1ea)+_0x4b9b93(0x1f6)+match);await message[_0x4b9b93(0x1ed)][_0x4b9b93(0x1e9)+'e'](message[_0x4b9b93(0x1fd)],{'video':{'url':Video},'caption':''+title});}}catch(_0x170d3b){console[_0x4b9b93(0x1e8)](_0x4b9b93(0x1ef)+_0x4b9b93(0x1ee),_0x170d3b);}
});

System({ pattern: 'yta ?(.*)', fromMe: isPublic, desc: 'YouTube audio downloader', type: 'downloader' }, async (message, match) => {
function _0x2c37(){const _0x20af4a=['jid','age','367890VvqRnw','error','split','_Give\x20a\x20Yo','517gvYBoo','1271888dbvsoE','client','1290401ettKLD','598470rsFBJL','deo?url=','audio/mpeg','428OeAaXo','31464yUiGHK','ironman/vi','uTube\x20vide','AUDIO_DATA','681129ERPeRi','1150qpMjmR','32121wEAfZe','reply_mess','mp4','reply','sendMessag','88JzHDht','ccurred:','o\x20Url_','text','An\x20error\x20o'];_0x2c37=function(){return _0x20af4a;};return _0x2c37();}const _0x5c5f50=_0x2dcd;(function(_0x38517b,_0x316d72){const _0x2def4b=_0x2dcd,_0x516808=_0x38517b();while(!![]){try{const _0x262521=parseInt(_0x2def4b(0x106))/(-0x1cbc+-0x2*0x1376+0x43a9)+parseInt(_0x2def4b(0x109))/(0x1a08+-0x121*0xf+-0x917)+-parseInt(_0x2def4b(0x113))/(-0x1*-0x19af+-0xf0e+-0xa9e)*(parseInt(_0x2def4b(0x10c))/(0x1737+-0x576*-0x3+-0x2795))+parseInt(_0x2def4b(0x112))/(-0xe64+0xbab+-0x4e*-0x9)*(parseInt(_0x2def4b(0x10d))/(0x1cf*-0x5+-0x1605+0x1f16))+parseInt(_0x2def4b(0x108))/(0x794+-0xd0b+0x13*0x4a)+parseInt(_0x2def4b(0x118))/(-0x1*-0x1069+-0x9*-0x161+-0x5*0x5c2)*(parseInt(_0x2def4b(0x111))/(-0x5cb*0x5+-0x3*-0x737+-0x7*-0x10d))+parseInt(_0x2def4b(0x101))/(-0x22cc+0x164*-0x19+0x459a)*(-parseInt(_0x2def4b(0x105))/(-0xcb3*0x1+-0x1749*0x1+-0x1*-0x2407));if(_0x262521===_0x316d72)break;else _0x516808['push'](_0x516808['shift']());}catch(_0x24bd74){_0x516808['push'](_0x516808['shift']());}}}(_0x2c37,-0xcd403+-0x1e6c6+-0x45*-0x6ab2));function _0x2dcd(_0x37910f,_0x4daf46){const _0x256bc9=_0x2c37();return _0x2dcd=function(_0x4a255a,_0x1242d4){_0x4a255a=_0x4a255a-(0x15a9+-0x2060+-0x7*-0x1ac);let _0x4645c1=_0x256bc9[_0x4a255a];return _0x4645c1;},_0x2dcd(_0x37910f,_0x4daf46);}try{match=match||message[_0x5c5f50(0x114)+_0x5c5f50(0x100)][_0x5c5f50(0xfd)];if(!match)return await message[_0x5c5f50(0x116)](_0x5c5f50(0x104)+_0x5c5f50(0x10f)+_0x5c5f50(0x11a));else{const Audio=await IronMan(_0x5c5f50(0x10e)+_0x5c5f50(0x10a)+match),buff=await getBuffer(Audio);var media=await toAudio(buff,_0x5c5f50(0x115));const data=config[_0x5c5f50(0x110)][_0x5c5f50(0x103)](';'),name=data[0x101b+-0x818+0x803*-0x1],author=data[-0x1a3c+-0x3*0x949+0x3618],image=data[0x1039+0xd07+-0x1d3e],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x5c5f50(0x107)][_0x5c5f50(0x117)+'e'](message[_0x5c5f50(0xff)],{'audio':aud,'mimetype':_0x5c5f50(0x10b)});}}catch(_0x170217){console[_0x5c5f50(0x102)](_0x5c5f50(0xfe)+_0x5c5f50(0x119),_0x170217);}
});
